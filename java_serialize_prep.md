# Сериализация в `Java` и `Jackson`

[назад](java_main_prep.md)

* [Что такое сериализация / десериализация](#что-такое-сериализация--десериализация)
* [Процесс сериализации/десериализации с использованием `Serializable`](#процесс-сериализациидесериализации-с-использованием-serializable)

Опишите процесс сериализации/десериализации с использованием Serializable.
Как изменить стандартное поведение сериализации/десериализации?
Как исключить поля из сериализации?
Что обозначает ключевое слово transient?
Какое влияние оказывают на сериализуемость модификаторы полей static и final
Как не допустить сериализацию?
Как создать собственный протокол сериализации?
Какая роль поля serialVersionUID в сериализации?
Когда стоит изменять значение поля serialVersionUID?
В чем проблема сериализации Singleton?
Какие существуют способы контроля за значениями десериализованного объекта


## Что такое сериализация / десериализация

`Сериализация` и `десериализация` в Java - это процессы преобразования объектов в поток байтов (сериализация) и обратно из потока байтов в объекты (десериализация). 

Эти процессы позволяют сохранять состояние объектов в постоянном хранилище, передавать объекты через сеть или между разными запусками приложения.

### Сериализация (`Serialization`)
Это процесс преобразования объектов `Java` в последовательность байтов, которые могут быть записаны в файл, переданы по сети или сохранены в другом хранилище. Сериализованные данные в `Java` обычно имеют формат, который может быть понят и восстановлен другими приложениями или на другой платформе.

### Десериализация (`Deserialization`)
Это процесс восстановления объектов из сериализованных данных. Десериализация позволяет воссоздать объекты и их состояние из потока байтов, полученных из файла, сети и т. д.

### Сериализация и десериализация широко используются в Java для различных целей:

* Сохранение и восстановление состояния объектов между запусками приложения.
* Передача объектов через сеть, например, при взаимодействии клиент-сервер.
* Хранение объектов в базах данных или кэшах, используя сериализацию в форматы, такие как `JSON` или `XML`.
* Сериализация объектов для асинхронного обмена данными между процессами или потоками внутри одного приложения.

***
**Для того чтобы объекты могли быть сериализованы и десериализованы в Java, классы должны реализовывать интерфейс `Serializable`**, который не содержит абстрактных методов и служит `маркером` для `Java`-машинны. Этот интерфейс позволяет `Java`-машине выполнить сериализацию и десериализацию объектов этого класса.

[наверх](#сериализация-в-java-и-jackson)

## Процесс сериализации/десериализации с использованием `Serializable`

Процесс сериализации и десериализации с использованием интерфейса `Serializable` в `Java` следующий:
***
### Сериализация

### 1. Подготовка объекта
Выберите объект, который вы хотите сериализовать. Этот объект должен быть экземпляром класса, реализующего интерфейс `Serializable`. Все поля этого объекта также должны быть сериализуемыми или помечены как `transient` (если вы хотите исключить их из сериализации).

### 2. Создание потока для записи
Создайте `ObjectOutputStream`, который будет служить потоком для записи сериализованных данных. Этот поток может быть связан с файлом, сетевым соединением или другими источниками/целями данных.

### 3. Сериализация объекта
Используя `ObjectOutputStream`, вызовите метод `writeObject()` для объекта, который вы хотите сериализовать. Этот метод запускает процесс сериализации, который преобразует объект и его состояние в последовательность байтов.

### 4. Закрытие потока
После успешной сериализации закройте `ObjectOutputStream`, чтобы освободить ресурсы.

***
### Десериализация

### 1. Создание потока для чтения
Создайте `ObjectInputStream`, который будет служить потоком для чтения сериализованных данных. Этот поток должен быть связан с источником данных, который содержит сериализованные объекты.

### 2. Десериализация объекта
Используя `ObjectInputStream`, вызовите метод `readObject()`, чтобы прочитать сериализованные данные из потока и восстановить объект и его состояние.

### 3. Использование объекта
Теперь у вас есть восстановленный объект, который можно использовать так, как если бы он был создан непосредственно, несмотря на то, что он был сериализован и передан между системами или хранилищами.

### 4. Закрытие потока
После завершения десериализации закройте `ObjectInputStream`, чтобы освободить ресурсы.

***
Важно учесть, что при сериализации и десериализации все классы, включая вложенные и суперклассы, должны быть сериализуемыми. Если какой-либо класс или поле не сериализуем, это может вызвать исключение `java.io.NotSerializableException`. 

Также обратите внимание, что изменение класса между сериализацией и десериализацией может привести к проблемам, так что следите за версиями классов при работе с сериализацией.

[наверх](#сериализация-в-java-и-jackson)

##

[наверх](#сериализация-в-java-и-jackson)

##

[наверх](#сериализация-в-java-и-jackson)

##

[наверх](#сериализация-в-java-и-jackson)

##

[наверх](#сериализация-в-java-и-jackson)

##

[наверх](#сериализация-в-java-и-jackson)

##

[наверх](#сериализация-в-java-и-jackson)

[назад](java_main_prep.md)